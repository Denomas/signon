<%
  filter_title = filter_type.to_s.humanize.capitalize
  filter_value = params[filter_type] ? params[filter_type].humanize.capitalize : nil
%>

<li class="add-margin-right <%= "filter-by-#{filter_type.to_s}-menu"%>">
  <%= link_to current_path_with_filter(filter_type, nil),
        class: 'filter-option',
        data: { toggle: 'dropdown' },
        role: 'button' do %>
    <% if params[filter_type] %>
      <span class="if-js-hide glyphicon glyphicon-remove"></span>
    <% end %>
    <span class="if-no-js-hide"><%= filter_value || filter_title %></span>
    <span class="if-js-hide"><%= filter_title %></span>
    <span class="if-no-js-hide glyphicon glyphicon-chevron-down"></span>
  <% end %>
  <ul class="dropdown-menu" role="menu">
    <%= user_filter_list_items(filter_type) %>
  </ul>
</li>
